<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>buildbot.broken_test.unit.test_svnpoller.MySVNPoller</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="buildbot-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.0beta1</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="buildbot-module.html">Package&nbsp;buildbot</a> ::
        <a href="buildbot.broken_test-module.html">Package&nbsp;broken_test</a> ::
        <a href="buildbot.broken_test.unit-module.html">Package&nbsp;unit</a> ::
        <a href="buildbot.broken_test.unit.test_svnpoller-module.html">Module&nbsp;test_svnpoller</a> ::
        Class&nbsp;MySVNPoller
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="buildbot.broken_test.unit.test_svnpoller.MySVNPoller-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class MySVNPoller</h1><p class="nomargin-top"><span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller">source&nbsp;code</a></span></p>
<pre class="base-tree">
twisted.application.service.Service --+        
                                      |        
               <a href="buildbot.util.ComparableMixin-class.html">util.ComparableMixin</a> --+        
                                      |        
              <a href="buildbot.changes.base.ChangeSource-class.html">changes.base.ChangeSource</a> --+    
                                          |    
                   <a href="buildbot.util.ComparableMixin-class.html">util.ComparableMixin</a> --+    
                                          |    
                <a href="buildbot.changes.svnpoller.SVNPoller-class.html">changes.svnpoller.SVNPoller</a> --+
                                              |
                                             <strong class="uidshort">MySVNPoller</strong>
</pre>

<hr />
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.broken_test.unit.test_svnpoller.MySVNPoller-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">*args</span>,
        <span class="summary-sig-arg">**kwargs</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.broken_test.unit.test_svnpoller.MySVNPoller-class.html#getProcessOutput" class="summary-sig-name">getProcessOutput</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">args</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.getProcessOutput">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="buildbot.broken_test.unit.test_svnpoller.MySVNPoller-class.html#submit_changes" class="summary-sig-name">submit_changes</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">changes</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.submit_changes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html">changes.svnpoller.SVNPoller</a></code></b>:
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#checksvn">checksvn</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#create_changes">create_changes</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#describe">describe</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#determine_prefix">determine_prefix</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#finished_failure">finished_failure</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#finished_ok">finished_ok</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#get_logs">get_logs</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#get_new_logentries">get_new_logentries</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#get_root">get_root</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#parse_logs">parse_logs</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#split_file">split_file</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#startService">startService</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#stopService">stopService</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.application.service.Service</code></b>:
      <code>__getstate__</code>,
      <code>__providedBy__</code>,
      <code>disownServiceParent</code>,
      <code>privilegedStartService</code>,
      <code>setName</code>,
      <code>setServiceParent</code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.util.ComparableMixin-class.html">util.ComparableMixin</a></code></b>:
      <code><a href="buildbot.util.ComparableMixin-class.html#__cmp__">__cmp__</a></code>,
      <code><a href="buildbot.util.ComparableMixin-class.html#__hash__">__hash__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html">changes.svnpoller.SVNPoller</a></code></b>:
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#compare_attrs">compare_attrs</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#last_change">last_change</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#loop">loop</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#parent">parent</a></code>,
      <code><a href="buildbot.changes.svnpoller.SVNPoller-class.html#working">working</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="buildbot.changes.base.ChangeSource-class.html">changes.base.ChangeSource</a></code></b>:
      <code><a href="buildbot.changes.base.ChangeSource-class.html#__implemented__">__implemented__</a></code>,
      <code><a href="buildbot.changes.base.ChangeSource-class.html#__provides__">__provides__</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>twisted.application.service.Service</code></b>:
      <code>name</code>,
      <code>running</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">*args</span>,
        <span class="sig-arg">**kwargs</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>svnurl</code></strong> - the SVN URL that describes the repository and subdirectory to 
          watch. If this ChangeSource should only pay attention to a single
          branch, this should point at the repository for that branch, like
          svn://svn.twistedmatrix.com/svn/Twisted/trunk . If it should 
          follow multiple branches, point it at the repository directory 
          that contains all the branches like 
          svn://svn.twistedmatrix.com/svn/Twisted and also provide a 
          branch-determining function.
          <p>Each file in the repository has a SVN URL in the form 
          (SVNURL)/(BRANCH)/(FILEPATH), where (BRANCH) could be empty or 
          not, depending upon your branch-determining function. Only files 
          that start with (SVNURL)/(BRANCH) will be monitored. The Change 
          objects that are sent to the Schedulers will see (FILEPATH) for 
          each modified file.</p></li>
        <li><strong class="pname"><code>split_file</code></strong> - a function that is called with a string of the form 
          (BRANCH)/(FILEPATH) and should return a tuple (BRANCH, FILEPATH).
          This function should match your repository's branch-naming 
          policy. Each changed file has a fully-qualified URL that can be 
          split into a prefix (which equals the value of the 'svnurl' 
          argument) and a suffix; it is this suffix which is passed to the 
          split_file function.
          <p>If the function returns None, the file is ignored. Use this to
          indicate that the file is not a part of this project.</p>
          <p>For example, if your repository puts the trunk in trunk/... 
          and branches are in places like branches/1.5/..., your split_file
          function could look like the following (this function is 
          available as svnpoller.split_file_branches):</p>
<pre class="literalblock">
pieces = path.split('/')
if pieces[0] == 'trunk':
    return (None, '/'.join(pieces[1:]))
elif pieces[0] == 'branches':
    return ('/'.join(pieces[0:2]),
            '/'.join(pieces[2:]))
else:
    return None
</pre>
          <p>If instead your repository layout puts the trunk for ProjectA 
          in trunk/ProjectA/... and the 1.5 branch in 
          branches/1.5/ProjectA/..., your split_file function could look 
          like:</p>
<pre class="literalblock">
pieces = path.split('/')
if pieces[0] == 'trunk':
    branch = None
    pieces.pop(0) # remove 'trunk'
elif pieces[0] == 'branches':
    pieces.pop(0) # remove 'branches'
    # grab branch name
    branch = 'branches/' + pieces.pop(0)
else:
    return None # something weird
projectname = pieces.pop(0)
if projectname != 'ProjectA':
    return None # wrong project
return (branch, '/'.join(pieces))
</pre>
          <p>The default of split_file= is None, which indicates that no 
          splitting should be done. This is equivalent to the following 
          function:</p>
<pre class="literalblock">
return (None, path)
</pre>
          <p>If you wish, you can override the split_file method with the 
          same sort of function instead of passing in a split_file= 
          argument.</p></li>
        <li><strong class="pname"><code>svnuser</code></strong> - If set, the --username option will be added to the 'svn log' 
          command. You may need this to get access to a private repository.</li>
        <li><strong class="pname"><code>svnpasswd</code></strong> - If set, the --password option will be added.</li>
        <li><strong class="pname"><code>pollinterval</code></strong> - interval in seconds between polls. The default is 600 seconds (10
          minutes). Smaller values decrease the latency between the time a 
          change is recorded and the time the buildbot notices it, but it 
          also increases the system load.</li>
        <li><strong class="pname"><code>histmax</code></strong> - maximum number of changes to look back through. The default is 
          100. Smaller values decrease system load, but if more than 
          histmax changes are recorded between polls, the extra ones will 
          be silently lost.</li>
        <li><strong class="pname"><code>svnbin</code></strong> - path to svn binary, defaults to just 'svn'. Use this if your 
          subversion command lives in an unusual location.</li>
        <li><strong class="pname"><code>revlinktmpl</code></strong> - A format string to use for hyperlinks to revision information. 
          For example, setting this to 
          &quot;http://reposerver/websvn/revision.php?rev=%s&quot; would 
          create suitable links on the build pages to information in websvn
          on each revision.</li>
        <li><strong class="pname"><code>category</code></strong> - A single category associated with the changes that could be used 
          by schedulers watch for branches of a certain name AND category.</li>
    </ul></dd>
    <dt>Overrides:
        <a href="buildbot.changes.svnpoller.SVNPoller-class.html#__init__">changes.svnpoller.SVNPoller.__init__</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="getProcessOutput"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getProcessOutput</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.getProcessOutput">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.changes.svnpoller.SVNPoller-class.html#getProcessOutput">changes.svnpoller.SVNPoller.getProcessOutput</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="submit_changes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">submit_changes</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">changes</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="buildbot.broken_test.unit.test_svnpoller-pysrc.html#MySVNPoller.submit_changes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  
  <dl class="fields">
    <dt>Overrides:
        <a href="buildbot.changes.svnpoller.SVNPoller-class.html#submit_changes">changes.svnpoller.SVNPoller.submit_changes</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="buildbot-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://buildbot.net/trac">BuildBot 0.8.0beta1</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Thu Mar 11 00:25:50 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
