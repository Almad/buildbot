<html lang="en">
<head>
<title>Upgrading an Existing Buildmaster - BuildBot Manual - latest</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="BuildBot Manual - latest">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="Installation.html#Installation" title="Installation">
<link rel="prev" href="Creating-a-buildmaster.html#Creating-a-buildmaster" title="Creating a buildmaster">
<link rel="next" href="Creating-a-buildslave.html#Creating-a-buildslave" title="Creating a buildslave">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This is the BuildBot manual for Buildbot version latest.

Copyright (C) 2005, 2006, 2009, 2010 Brian Warner

Copying and distribution of this file, with or without
modification, are permitted in any medium without royalty
provided the copyright notice and this notice are preserved.-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Upgrading-an-Existing-Buildmaster"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="Creating-a-buildslave.html#Creating-a-buildslave">Creating a buildslave</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="Creating-a-buildmaster.html#Creating-a-buildmaster">Creating a buildmaster</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="Installation.html#Installation">Installation</a>
<hr>
</div>

<h3 class="section">2.4 Upgrading an Existing Buildmaster</h3>

<p>If you have just installed a new version of the Buildbot code, and you
have buildmasters that were created using an older version, you'll
need to upgrade these buildmasters before you can use them. The
upgrade process adds and modifies files in the buildmaster's base
directory to make it compatible with the new code.

<pre class="example">     buildbot upgrade-master <var>basedir</var>
</pre>
   <p>This command will also scan your <samp><span class="file">master.cfg</span></samp> file for
incompatibilities (by loading it and printing any errors or deprecation
warnings that occur). Each buildbot release tries to be compatible
with configurations that worked cleanly (i.e. without deprecation
warnings) on the previous release: any functions or classes that are
to be removed will first be deprecated in a release, to give users a
chance to start using their replacement.

   <p>The 0.7.6 release introduced the <samp><span class="file">public_html/</span></samp> directory, which
contains <samp><span class="file">index.html</span></samp> and other files served by the
<code>WebStatus</code> and <code>Waterfall</code> status displays. The
<code>upgrade-master</code> command will create these files if they do not
already exist. It will not modify existing copies, but it will write a
new copy in e.g. <samp><span class="file">index.html.new</span></samp> if the new version differs from
the version that already exists.

   <p>The <code>upgrade-master</code> command is idempotent. It is safe to run it
multiple times. After each upgrade of the buildbot code, you should
use <code>upgrade-master</code> on all your buildmasters.

   </body></html>

